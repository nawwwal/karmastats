<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KARMASTAT 2.0 - Advanced Medical Sample Size Calculator Suite</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

        :root {
            --primary: #0F766E;
            --primary-dark: #115E59;
            --primary-light: #14B8A6;
            --primary-lighter: #5EEAD4;
            --accent: #F59E0B;
            --accent-light: #FCD34D;
            --bg-body: #F0FDFA;
            --bg-card: #FFFFFF;
            --bg-secondary: #CCFBF1;
            --text-primary: #134E4A;
            --text-secondary: #115E59;
            --text-muted: #0D9488;
            --border-color: #99F6E4;
            --shadow: 0 4px 20px rgba(15, 118, 110, 0.12);
            --shadow-hover: 0 12px 35px rgba(15, 118, 110, 0.2);
            --shadow-lg: 0 20px 40px rgba(15, 118, 110, 0.15);
            --gradient-header: linear-gradient(135deg, #134E4A 0%, #0F766E 50%, #14B8A6 100%);
            --gradient-primary: linear-gradient(135deg, #0F766E, #14B8A6);
            --radius: 16px;
            --radius-lg: 24px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="dark"] {
            --bg-body: #0F172A;
            --bg-card: #1E293B;
            --bg-secondary: #334155;
            --text-primary: #F1F5F9;
            --text-secondary: #CBD5E1;
            --text-muted: #94A3B8;
            --border-color: #475569;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --shadow-hover: 0 12px 35px rgba(0, 0, 0, 0.4);
        }

        /* KARMASTAT Page Loader */
        .karma-page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-header);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.6s ease, visibility 0.6s ease;
        }

        .karma-page-loader.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .karma-page-loader .loader-content {
            text-align: center;
        }

        .karma-page-loader .loader-text {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 4px;
            margin-top: 2rem;
        }

        .karma-page-loader .loader-tagline {
            color: rgba(255,255,255,0.8);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            letter-spacing: 1px;
        }

        .karma-infinity {
            width: 140px;
            height: 70px;
        }

        .karma-path {
            stroke-dasharray: 300;
            stroke-dashoffset: 300;
            animation: karmaFlow 2s ease-in-out infinite;
        }

        @keyframes karmaFlow {
            0% { stroke-dashoffset: 300; opacity: 0.4; }
            50% { stroke-dashoffset: 0; opacity: 1; }
            100% { stroke-dashoffset: -300; opacity: 0.4; }
        }

        .karma-point {
            animation: karmaPulse 1.2s ease-in-out infinite;
        }

        .karma-point:nth-child(3) { animation-delay: 0.2s; }
        .karma-point:nth-child(4) { animation-delay: 0.4s; }

        @keyframes karmaPulse {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.3); opacity: 1; }
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: var(--bg-body);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            transition: var(--transition);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        header {
            background: var(--gradient-header);
            color: white;
            padding: 3.5rem 0;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.4;
        }

        .header-content {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1rem;
        }

        .logo-icon {
            width: 90px;
            height: 90px;
            background: rgba(255,255,255,0.12);
            border-radius: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.2);
            padding: 12px;
        }

        .logo h1 {
            font-size: 3rem;
            font-weight: 800;
            letter-spacing: 2px;
            text-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .logo h1 span {
            font-size: 1rem;
            background: var(--accent);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            margin-left: 0.5rem;
            vertical-align: middle;
            font-weight: 600;
            letter-spacing: 0;
        }

        .tagline {
            font-size: 1.25rem;
            font-weight: 400;
            opacity: 0.95;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        .theme-toggle {
            position: absolute;
            top: 1.5rem;
            right: 2rem;
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.25);
            color: white;
            padding: 0.6rem 1.25rem;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            font-size: 0.9rem;
            backdrop-filter: blur(10px);
        }

        .theme-toggle:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-2px);
        }

        /* Main Content */
        main {
            padding: 3rem 0;
        }

        .section {
            margin-bottom: 4rem;
        }

        .section-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .section-header h2 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
        }

        .section-header p {
            color: var(--text-muted);
            font-size: 1.05rem;
            max-width: 650px;
            margin: 0 auto;
        }

        /* Calculator Grid */
        .calc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 1.75rem;
        }

        .calc-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border-color);
            position: relative;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .calc-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: var(--card-accent, var(--gradient-primary));
        }

        .calc-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }

        .calc-card:hover .calc-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .calc-content {
            padding: 2rem 1.75rem 1.75rem;
        }

        .calc-icon {
            width: 60px;
            height: 60px;
            background: var(--card-accent, var(--gradient-primary));
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            margin-bottom: 1.25rem;
            transition: var(--transition);
        }

        .calc-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
        }

        .calc-desc {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 1.25rem;
            line-height: 1.6;
        }

        .calc-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .calc-tag {
            background: var(--bg-secondary);
            color: var(--text-secondary);
            padding: 0.35rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        /* Study Detector */
        .detector {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            margin-bottom: 3rem;
        }

        .detector-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .detector-header h2 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .detector-header p {
            color: var(--text-muted);
        }

        .detector textarea {
            width: 100%;
            min-height: 100px;
            padding: 1rem 1.25rem;
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            font-family: inherit;
            font-size: 1rem;
            background: var(--bg-body);
            color: var(--text-primary);
            resize: vertical;
            transition: var(--transition);
            margin-bottom: 1.25rem;
        }

        .detector textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(15, 118, 110, 0.1);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.875rem 1.75rem;
            border-radius: var(--radius);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(15, 118, 110, 0.3);
        }

        .btn-center {
            display: flex;
            justify-content: center;
        }

        /* Quick Access */
        .quick-access {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .quick-access h3 {
            text-align: center;
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .quick-links {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
        }

        .quick-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--bg-secondary);
            color: var(--text-primary);
            padding: 0.625rem 1.25rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .quick-link:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        /* Footer */
        footer {
            background: var(--gradient-header);
            color: white;
            text-align: center;
            padding: 3rem 0;
            margin-top: 2rem;
        }

        .footer-logo {
            font-size: 1.75rem;
            font-weight: 800;
            letter-spacing: 2px;
            margin-bottom: 0.75rem;
        }

        .footer-tagline {
            opacity: 0.9;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .footer-blessing {
            color: var(--accent-light);
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .footer-credits {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .logo {
                flex-direction: column;
                gap: 1rem;
            }
            .logo h1 { font-size: 2.25rem; }
            .theme-toggle {
                position: static;
                margin-top: 1.5rem;
                justify-content: center;
            }
            .calc-grid { grid-template-columns: 1fr; }
            .container { padding: 0 1rem; }
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .calc-card { animation: fadeInUp 0.5s ease-out forwards; }
        .calc-card:nth-child(1) { animation-delay: 0.05s; }
        .calc-card:nth-child(2) { animation-delay: 0.1s; }
        .calc-card:nth-child(3) { animation-delay: 0.15s; }
        .calc-card:nth-child(4) { animation-delay: 0.2s; }
        .calc-card:nth-child(5) { animation-delay: 0.25s; }
        .calc-card:nth-child(6) { animation-delay: 0.3s; }

        /* Spinner */
        .spinner {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .loading { opacity: 0.7; pointer-events: none; }
    </style>
</head>
<body data-theme="light">
    <!-- KARMASTAT Page Loader -->
    <div class="karma-page-loader" id="pageLoader">
        <div class="loader-content">
            <div class="karma-infinity">
                <svg viewBox="0 0 140 70" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="loaderGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#ffffff;stop-opacity:0.7"/>
                            <stop offset="50%" style="stop-color:#ffffff"/>
                            <stop offset="100%" style="stop-color:#ffffff;stop-opacity:0.7"/>
                        </linearGradient>
                    </defs>
                    <path class="karma-path"
                          d="M20 35 C20 12, 45 12, 70 35 C95 58, 120 58, 120 35 C120 12, 95 12, 70 35 C45 58, 20 58, 20 35"
                          fill="none" stroke="url(#loaderGrad)" stroke-width="6" stroke-linecap="round"/>
                    <circle class="karma-point" cx="20" cy="35" r="6" fill="#FCD34D"/>
                    <circle class="karma-point" cx="70" cy="35" r="8" fill="white"/>
                    <circle class="karma-point" cx="120" cy="35" r="6" fill="#FCD34D"/>
                </svg>
            </div>
            <div class="loader-text">KARMASTAT</div>
            <div class="loader-tagline">Where Selfless Work Meets Calculated Precision</div>
        </div>
    </div>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <svg width="66" height="66" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13 33 C13 18, 24 18, 33 33 C42 48, 53 48, 53 33 C53 18, 42 18, 33 33 C24 48, 13 48, 13 33"
                                  fill="none" stroke="white" stroke-width="5" stroke-linecap="round"/>
                            <circle cx="13" cy="33" r="4" fill="#FCD34D"/>
                            <circle cx="33" cy="33" r="5" fill="white"/>
                            <circle cx="53" cy="33" r="4" fill="#FCD34D"/>
                            <path d="M20 27 Q27 21, 33 27 Q40 33, 46 27" stroke="#FCD34D" stroke-width="2" fill="none" opacity="0.6"/>
                        </svg>
                    </div>
                    <h1>KARMASTAT <span>2.0</span></h1>
                </div>
                <p class="tagline">Where Selfless Work Meets Calculated Precision</p>
                <p class="subtitle">Advanced Statistical Sample Size Calculator Suite for Medical Research Excellence</p>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()">
                <span id="themeIcon">&#127769;</span>
                <span id="themeText">Dark Mode</span>
            </button>
        </div>
    </header>

    <main class="container">
        <!-- Intelligent Detector -->
        <section class="detector">
            <div class="detector-header">
                <h2><i class="fas fa-brain"></i> Intelligent Study Detector</h2>
                <p>Describe your research and get personalized calculator recommendations</p>
            </div>
            <textarea id="studyDesc" placeholder="Example: I want to compare the effectiveness of two treatments for diabetes in a randomized controlled trial with 200 patients..."></textarea>
            <div class="btn-center">
                <button class="btn btn-primary" onclick="detectStudy()">
                    <span id="detectIcon"><i class="fas fa-search"></i></span>
                    <span id="detectText">Analyze Study</span>
                </button>
            </div>
        </section>

        <!-- Core Calculators -->
        <section class="section">
            <div class="section-header">
                <h2>Core Sample Size Calculators</h2>
                <p>Essential tools for clinical and epidemiological research design</p>
            </div>
            <div class="calc-grid">
                <a href="karmastat_descriptive.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #10B981, #059669);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-chart-pie"></i></div>
                        <h3 class="calc-title">Descriptive Studies</h3>
                        <p class="calc-desc">Cross-sectional surveys, prevalence studies, and population parameter estimation with precision calculations.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Prevalence</span>
                            <span class="calc-tag">CI Estimation</span>
                            <span class="calc-tag">Surveys</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_ttest.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #3B82F6, #2563EB);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-chart-line"></i></div>
                        <h3 class="calc-title">T-Test & Mean Comparisons</h3>
                        <p class="calc-desc">One-sample, two-sample, and paired t-tests with effect size and power calculations.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">One-sample</span>
                            <span class="calc-tag">Two-sample</span>
                            <span class="calc-tag">Paired</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_observational.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #8B5CF6, #7C3AED);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-scale-balanced"></i></div>
                        <h3 class="calc-title">Comparative Studies</h3>
                        <p class="calc-desc">Case-control and cohort studies for odds ratios, relative risk, and disease causation research.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Case-Control</span>
                            <span class="calc-tag">Cohort</span>
                            <span class="calc-tag">OR/RR</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_diagnostic.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #EC4899, #DB2777);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-stethoscope"></i></div>
                        <h3 class="calc-title">Diagnostic Accuracy</h3>
                        <p class="calc-desc">Sensitivity, specificity, ROC analysis, and predictive values for diagnostic test evaluation.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Sensitivity</span>
                            <span class="calc-tag">Specificity</span>
                            <span class="calc-tag">ROC</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_clinical_trials.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #F59E0B, #D97706);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-flask-vial"></i></div>
                        <h3 class="calc-title">Clinical Trials</h3>
                        <p class="calc-desc">RCTs, superiority/non-inferiority designs, crossover trials, and adaptive methodologies.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">RCT</span>
                            <span class="calc-tag">Non-inferiority</span>
                            <span class="calc-tag">ICH E9</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_survival.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #EF4444, #DC2626);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-heart-pulse"></i></div>
                        <h3 class="calc-title">Survival Analysis</h3>
                        <p class="calc-desc">Time-to-event studies, Kaplan-Meier, Cox regression, and hazard ratio calculations.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Kaplan-Meier</span>
                            <span class="calc-tag">Cox</span>
                            <span class="calc-tag">Log-rank</span>
                        </div>
                    </div>
                </a>
            </div>
        </section>

        <!-- Advanced Calculators -->
        <section class="section">
            <div class="section-header">
                <h2>Advanced Statistical Calculators</h2>
                <p>Specialized tools for power analysis, meta-analysis, and complex study designs</p>
            </div>
            <div class="calc-grid">
                <a href="karmastat_power_analysis.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #7C3AED, #6D28D9);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-bolt"></i></div>
                        <h3 class="calc-title">Power Analysis</h3>
                        <p class="calc-desc">Reverse calculations to find statistical power given sample size for study evaluation.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">T-Test Power</span>
                            <span class="calc-tag">ANOVA</span>
                            <span class="calc-tag">Power Curves</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_effect_size.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #14B8A6, #0D9488);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-ruler-combined"></i></div>
                        <h3 class="calc-title">Effect Size Calculator</h3>
                        <p class="calc-desc">Convert between Cohen's d, Hedges' g, odds ratios, and correlation coefficients.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Cohen's d</span>
                            <span class="calc-tag">Hedges' g</span>
                            <span class="calc-tag">OR/RR</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_meta_analysis.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #6366F1, #4F46E5);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-layer-group"></i></div>
                        <h3 class="calc-title">Meta-Analysis</h3>
                        <p class="calc-desc">Sample sizes for systematic reviews with fixed/random effects and heterogeneity.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Fixed Effects</span>
                            <span class="calc-tag">Random Effects</span>
                            <span class="calc-tag">IÂ²</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_cluster_multilevel.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #F97316, #EA580C);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-sitemap"></i></div>
                        <h3 class="calc-title">Cluster & Multi-level</h3>
                        <p class="calc-desc">Cluster RCTs, stepped-wedge designs, and ICC-adjusted sample size calculations.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Cluster RCT</span>
                            <span class="calc-tag">Stepped Wedge</span>
                            <span class="calc-tag">ICC</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_bayesian.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #F43F5E, #E11D48);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-dice"></i></div>
                        <h3 class="calc-title">Bayesian Sample Size</h3>
                        <p class="calc-desc">APVC, Bayes Factor targets, HPD width, and assurance-based calculations.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">APVC</span>
                            <span class="calc-tag">Bayes Factor</span>
                            <span class="calc-tag">Assurance</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_agreement_studies.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #06B6D4, #0891B2);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-handshake"></i></div>
                        <h3 class="calc-title">Agreement Studies</h3>
                        <p class="calc-desc">Kappa, ICC, Bland-Altman, and Lin's CCC for inter-rater reliability studies.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Kappa</span>
                            <span class="calc-tag">ICC</span>
                            <span class="calc-tag">Bland-Altman</span>
                        </div>
                    </div>
                </a>
            </div>
        </section>

        <!-- Tools & Resources -->
        <section class="section">
            <div class="section-header">
                <h2>Tools & Resources</h2>
                <p>Reporting tools, sensitivity analysis, and reference materials</p>
            </div>
            <div class="calc-grid">
                <a href="karmastat_report_generator.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #059669, #047857);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-file-pdf"></i></div>
                        <h3 class="calc-title">Report Generator</h3>
                        <p class="calc-desc">Generate publication-ready methodology text with PDF, Word, and LaTeX export.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">PDF</span>
                            <span class="calc-tag">Word</span>
                            <span class="calc-tag">LaTeX</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_sensitivity_analysis.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #FB923C, #F97316);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-sliders"></i></div>
                        <h3 class="calc-title">Sensitivity Analysis</h3>
                        <p class="calc-desc">Interactive parameter exploration with real-time visualizations and power curves.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Sliders</span>
                            <span class="calc-tag">Charts</span>
                            <span class="calc-tag">Scenarios</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_checklists.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #2563EB, #1D4ED8);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-list-check"></i></div>
                        <h3 class="calc-title">Reporting Checklists</h3>
                        <p class="calc-desc">CONSORT, STROBE, PRISMA, and STARD interactive checklists with progress tracking.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">CONSORT</span>
                            <span class="calc-tag">STROBE</span>
                            <span class="calc-tag">PRISMA</span>
                        </div>
                    </div>
                </a>

                <a href="karmastat_references.html" class="calc-card" style="--card-accent: linear-gradient(135deg, #64748B, #475569);">
                    <div class="calc-content">
                        <div class="calc-icon"><i class="fas fa-book"></i></div>
                        <h3 class="calc-title">Statistical References</h3>
                        <p class="calc-desc">Comprehensive reference library with textbooks, formulas, papers, and glossary.</p>
                        <div class="calc-tags">
                            <span class="calc-tag">Textbooks</span>
                            <span class="calc-tag">Formulas</span>
                            <span class="calc-tag">Glossary</span>
                        </div>
                    </div>
                </a>
            </div>
        </section>

        <!-- Quick Access -->
        <section class="quick-access">
            <h3><i class="fas fa-bolt"></i> Quick Access</h3>
            <div class="quick-links">
                <a href="karmastat_descriptive.html" class="quick-link"><i class="fas fa-chart-pie"></i> Descriptive</a>
                <a href="karmastat_ttest.html" class="quick-link"><i class="fas fa-chart-line"></i> T-Test</a>
                <a href="karmastat_clinical_trials.html" class="quick-link"><i class="fas fa-flask"></i> Clinical Trials</a>
                <a href="karmastat_observational.html" class="quick-link"><i class="fas fa-scale-balanced"></i> Comparative</a>
                <a href="karmastat_diagnostic.html" class="quick-link"><i class="fas fa-stethoscope"></i> Diagnostic</a>
                <a href="karmastat_survival.html" class="quick-link"><i class="fas fa-heart-pulse"></i> Survival</a>
                <a href="karmastat_power_analysis.html" class="quick-link"><i class="fas fa-bolt"></i> Power</a>
                <a href="karmastat_effect_size.html" class="quick-link"><i class="fas fa-ruler"></i> Effect Size</a>
                <a href="karmastat_references.html" class="quick-link"><i class="fas fa-book"></i> References</a>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div style="display: flex; align-items: center; justify-content: center; gap: 1rem; margin-bottom: 1rem;">
                <svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 25 C8 13, 16 13, 25 25 C34 37, 42 37, 42 25 C42 13, 34 13, 25 25 C16 37, 8 37, 8 25"
                          fill="none" stroke="white" stroke-width="4" stroke-linecap="round"/>
                    <circle cx="8" cy="25" r="3" fill="#FCD34D"/>
                    <circle cx="25" cy="25" r="4" fill="white"/>
                    <circle cx="42" cy="25" r="3" fill="#FCD34D"/>
                </svg>
                <div class="footer-logo">KARMASTAT</div>
            </div>
            <p class="footer-tagline">Where Selfless Work Meets Calculated Precision</p>
            <p class="footer-blessing">Jai Shri Ram</p>
            <p class="footer-credits">Made with selfless dedication by KARMAYOGI</p>
        </div>
    </footer>

    <script>
        // Hide page loader when content is ready
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const pageLoader = document.getElementById('pageLoader');
                if (pageLoader) {
                    pageLoader.classList.add('hidden');
                }
            }, 1000);
        });

        const THEME_KEY = 'karmastat-theme';
        let currentTheme = localStorage.getItem(THEME_KEY) || 'light';

        function applyTheme(theme) {
            document.body.setAttribute('data-theme', theme);
            document.getElementById('themeIcon').innerHTML = theme === 'dark' ? '&#9728;' : '&#127769;';
            document.getElementById('themeText').textContent = theme === 'dark' ? 'Light Mode' : 'Dark Mode';
        }

        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            localStorage.setItem(THEME_KEY, currentTheme);
            applyTheme(currentTheme);
        }

        function detectStudy() {
            const desc = document.getElementById('studyDesc').value.trim();
            if (!desc) { alert('Please describe your research study first.'); return; }

            const btn = document.querySelector('.detector .btn');
            const icon = document.getElementById('detectIcon');
            const text = document.getElementById('detectText');

            btn.classList.add('loading');
            icon.innerHTML = '<div class="spinner"></div>';
            text.textContent = 'Analyzing...';

            setTimeout(() => {
                const type = analyzeStudy(desc);
                btn.classList.remove('loading');
                icon.innerHTML = '<i class="fas fa-search"></i>';
                text.textContent = 'Analyze Study';
                showRecommendation(type);
            }, 1500);
        }

        function analyzeStudy(desc) {
            const patterns = {
                'clinical-trials': /randomized|rct|placebo|intervention|treatment.*comparison|drug.*trial|superiority|non-inferiority/i,
                'observational': /case.*control|cohort|risk.*factor|exposure|retrospective|prospective|odds.*ratio/i,
                'diagnostic': /diagnostic|sensitivity|specificity|screening|biomarker|roc|predictive.*value/i,
                'ttest': /compare.*mean|t.*test|before.*after|pre.*post|paired|continuous.*outcome/i,
                'survival': /survival|time.*event|kaplan|cox|hazard|follow.*up|mortality/i,
                'descriptive': /prevalence|cross.*sectional|survey|descriptive|proportion/i
            };

            for (const [type, regex] of Object.entries(patterns)) {
                if (regex.test(desc)) return type;
            }
            return 'descriptive';
        }

        function showRecommendation(type) {
            const recs = {
                'clinical-trials': { name: 'Clinical Trials', url: 'karmastat_clinical_trials.html' },
                'observational': { name: 'Comparative Studies', url: 'karmastat_observational.html' },
                'diagnostic': { name: 'Diagnostic Accuracy', url: 'karmastat_diagnostic.html' },
                'ttest': { name: 'T-Test & Mean Comparisons', url: 'karmastat_ttest.html' },
                'survival': { name: 'Survival Analysis', url: 'karmastat_survival.html' },
                'descriptive': { name: 'Descriptive Studies', url: 'karmastat_descriptive.html' }
            };

            const rec = recs[type];
            if (confirm(`Recommended Calculator: ${rec.name}\n\nWould you like to proceed?`)) {
                window.location.href = rec.url;
            }
        }

        document.addEventListener('DOMContentLoaded', () => applyTheme(currentTheme));
    </script>
</body>
</html>
